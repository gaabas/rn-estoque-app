<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RIN – Checagem de Estoque</title>
  <link rel="stylesheet" href="./style.css" />
  <style>
    /* TEMA CLARO (fundo branco) */
    :root {
      --bg:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --card:#ffffff;
      --border:#e2e8f0;
      --accent:#2563eb;
      --ok:#16a34a;
      --warn:#d97706;
      --bad:#dc2626;
      --shadow: 0 6px 20px rgba(2,6,23,.06);
    }
    * { box-sizing: border-box; }
    body { margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:var(--bg); color:var(--text); }
    header { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; border-bottom:1px solid var(--border); background:#fff; position:sticky; top:0; z-index:10; }
    .tabs { display:flex; gap:8px; }
    .tab { padding:8px 12px; border-radius:10px; background:#fff; border:1px solid var(--border); cursor:pointer; }
    .tab.active { background:#eef2ff; border-color:#c7d2fe; }
    .toolbar { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .toolbar input, .toolbar select { background:#fff; color:var(--text); border:1px solid var(--border); border-radius:8px; padding:8px 10px; }
    .admin { display:flex; gap:8px; align-items:center; }
    .badge { font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid var(--border); background:#f1f5f9; display:none; }
    .container { padding:16px; }
    .grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(260px,1fr)); gap:12px; }
    .card { background:var(--card); border:1px solid var(--border); border-radius:14px; padding:12px; display:flex; flex-direction:column; gap:8px; box-shadow: var(--shadow); }
    .name { font-weight:700; }
    .meta { color:var(--muted); font-size:12px; display:flex; gap:10px; }
    .status { display:flex; gap:6px; }
    .pill { padding:4px 8px; border-radius:999px; font-size:12px; border:1px solid transparent; }
    .pill.ok    { background:rgba(22,163,74,.10);  border-color:#86efac; color:#065f46; }
    .pill.warn  { background:rgba(217,119,6,.12);  border-color:#fed7aa; color:#7c2d12; }
    .pill.bad   { background:rgba(220,38,38,.10);  border-color:#fecaca; color:#7f1d1d; }
    .btnbar { display:flex; gap:8px; }
    button { cursor:pointer; border-radius:10px; border:1px solid var(--border); background:#f8fafc; color:var(--text); padding:8px 10px; }
    button.primary { background:#e0e7ff; border-color:#c7d2fe; }
    button.ghost { background:#fff; }
    .footerbar { position:sticky; bottom:0; background:#ffffff; border-top:1px solid var(--border); padding:10px 16px; display:flex; gap:8px; justify-content:flex-end; }
    form.add-item { display:grid; grid-template-columns: 1fr 1fr 1fr 1fr auto; gap:8px; margin-bottom:16px; }
    form.add-item input { background:#fff; color:var(--text); border:1px solid var(--border); border-radius:8px; padding:8px 10px; }
    .empty { color:#64748b; font-style:italic; padding:24px 0; }
  </style>
</head>
<body>
  <header>
    <div class="tabs">
      <button class="tab active" data-view="producao">Produção</button>
      <button class="tab" data-view="compras">Compras</button>
    </div>
    <div class="toolbar">
      <input id="search" type="search" placeholder="Buscar item…" />
      <select id="filter">
        <option value="TODOS">Todos</option>
        <option value="OK">OK</option>
        <option value="ALERTA">⚠ alerta</option>
        <option value="FALTA">❌ falta</option>
      </select>
      <button id="refresh" class="ghost">Recarregar</button>
      <div class="admin">
        <span id="adminBadge" class="badge">Gestor</span>
        <button id="adminBtn" class="ghost">Entrar como Gestor</button>
      </div>
    </div>
  </header>

  <div class="container">
    <!-- VISÍVEL apenas no modo Gestor -->
    <form class="add-item" id="addForm" style="display:none">
      <input id="nome" placeholder="Nome do item" />
      <input id="categoria" placeholder="Categoria" />
      <input id="unidade" placeholder="Unidade (kg, un, pct…)" />
      <input id="parMin" type="number" min="0" placeholder="Par mín." />
      <button type="submit" class="primary">Adicionar</button>
    </form>

    <div id="list" class="grid"></div>
    <div id="empty" class="empty" style="display:none;">Nenhum item encontrado.</div>
  </div>

  <div class="footerbar">
    <button id="exportCsv" class="ghost">Exportar CSV (lista de compras)</button>
    <button id="markOk">Marcar selecionados como OK</button>
    <button id="markWarn">Marcar selecionados como ⚠ Alerta</button>
    <button id="markBad">Marcar selecionados como ❌ Falta</button>
    <button id="save" class="primary">Salvar alterações</button>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
